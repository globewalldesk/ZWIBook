#!/usr/bin/env ruby
require 'fileutils'

# List of files to delete (add your full list here)
files_to_delete = [68429, 68432, 68435, 68441, 68455, 68456, 68477, 68478, 68484, 68959, 68968, 68982, 68992, 69028, 69048, 69264, 69278, 69279, 69291, 69292, 69293, 69357, 69358, 69448, 69465, 69505, 69506, 69516, 69564, 69565, 69652, 69658, 69659, 69665, 69666, 69687, 69688, 69694, 69708, 69709, 69713, 69719, 69722, 69731, 69729, 69733, 69742, 69778, 69796, 69820, 69821, 69833, 69919, 69921, 69926, 69931, 69932, 69940, 69999, 70001, 70003, 70005, 70012, 70015, 70155, 70160, 70173, 70183, 70184, 70212, 70215, 70216, 70218, 70227, 70230, 70239, 70240, 70242, 70247, 70250, 70251, 70257, 101, 10127, 10344, 10347, 10348, 10419, 10470, 10486, 10487, 10488, 10497, 10498, 10499, 10500, 10501, 10503, 10504, 10505, 10524, 10525, 10526, 10527, 10528, 10529, 10530, 10553, 10558, 10559, 10645, 10646, 10650, 10651, 10652, 10653, 10654, 10752, 10753, 10757, 10758, 10759, 1087, 11003, 11004, 11005, 11006, 1104, 112, 11261, 11262, 11522, 11523, 11583, 117, 11756, 118, 11946, 12076, 12701, 12702, 12703, 12704, 12705, 12706, 12707, 12708, 12709, 12710, 12711, 12712, 12713, 12714, 12715, 12716, 12717, 12718, 12719, 12720, 12721, 12722, 12723, 12724, 12733, 13075, 13080, 13081, 13094, 13376, 13528, 13841, 14556, 14557, 14585, 14586, 14764, 152, 15201, 1546, 156, 15939, 15949, 16187, 16188, 16189, 1619, 16190, 162, 16515, 16523, 16547, 16697, 16721, 16939, 1694, 16940, 16941, 16983, 16984, 16985, 16986, 17026, 17027, 17028, 17029, 17030, 17138, 17139, 17309, 17310, 17385, 17394, 17401, 17426, 17445, 18224, 18257, 18828, 19000, 19159, 19236, 19237, 19238, 19239, 19240, 19241, 19242, 19243, 19244, 19245, 19250, 19251, 19252, 19253, 19254, 19267, 19268, 19269, 19270, 19271, 19274, 19275, 19276, 19277, 19278, 19279, 19280, 19281, 19282, 19283, 19284, 19285, 19286, 19287, 19289, 19290, 19291, 19292, 19296, 19297, 19298, 19299, 19300, 19312, 1979, 1981, 20013, 20240, 20802, 2144, 2174, 21806, 21920, 22747, 235, 2357, 23586, 240, 24109, 2481, 2488, 249, 250, 25020, 253, 2538, 254, 255, 25729, 25730, 25737, 25738, 25739, 25740, 25741, 25742, 25743, 25744, 25745, 25746, 25747, 25748, 26099, 2677, 27028, 27029, 27030, 27031, 27032, 27033, 27034, 27035, 27036, 27037, 27038, 27039, 27040, 27041, 27042, 27043, 27044, 27045, 27046, 27047, 27048, 27098, 2737, 27460, 27526, 27593, 276, 2780, 27960, 27974, 2820, 28363, 28409, 28515, 28516, 28976, 29592, 29648, 29675, 29676, 29761, 29762, 29801, 29802, 29803, 3001, 3002, 3009, 30101, 30142, 30151, 30152, 30153, 30154, 30174, 30175, 302, 303, 30422, 30423, 30442, 30504, 3057, 30716, 30874, 30948, 31181, 31476, 31477, 31514, 31515, 3156, 31632, 31633, 31634, 31944, 32009, 32065, 3208, 3209, 3210, 3211, 3212, 3213, 3214, 3215, 3216, 3217, 3218, 3219, 3220, 3221, 3222, 3223, 3224, 3225, 32480, 3298, 3299, 33249, 33250, 33374, 33375, 33460, 33461, 33462, 34, 34059, 34091, 34317, 34318, 34319, 34320, 34321, 34322, 34323, 34324, 34325, 34328, 34329, 34330, 34527, 34731, 34921, 35101, 35347, 35348, 36013, 36050, 36097, 36102, 36299, 36567, 36616, 36985, 36986, 36987, 378, 3836, 38580, 38585, 39, 39125, 39400, 39467, 39468, 40, 40245, 40780, 4100, 41814, 41815, 42023, 42988, 4319, 437, 4370, 4371, 4372, 4373, 4374, 4375, 44717, 44926, 4545, 4561, 4562, 4563, 4564, 4565, 4566, 4567, 4568, 4569, 4570, 4661, 4662, 4663, 4665, 4683, 4685, 4686, 4700, 4740, 4741, 4742, 4752, 4753, 47754, 4778, 4779, 4780, 480, 48053, 48900, 49, 4906, 4977, 49965, 51069, 5139, 5176, 5193, 5200, 5201, 5329, 5330, 5331, 542, 54360, 54434, 54435, 55002, 55351, 56, 5640, 5656, 5657, 5739, 5766, 5768, 57792, 578, 58080, 58207, 58344, 58741, 5884, 5887, 5888, 5889, 59739, 6034, 6035, 6089, 6356, 63849, 6526, 6527, 6528, 6529, 6530, 6531, 6532, 6533, 6534, 6535, 6536, 6537, 6538, 6539, 6540, 6541, 6542, 6543, 6544, 6545, 6546, 6547, 6548, 6550, 6551, 6552, 6553, 6554, 6555, 6556, 6557, 6591, 6592, 66, 660, 6603, 661, 662, 6620, 664, 669, 67, 670, 672, 673, 6930, 6951, 7049, 7094, 7190, 729, 75, 7527, 7773, 7798, 7849, 7869, 7872, 7873, 7874, 79, 80, 806, 8086, 8204, 8205, 8214, 8215, 8216, 8217, 8218, 822, 8227, 8420, 8421, 8422, 8423, 8608, 8609, 8610, 8611, 8612, 8613, 8614, 8615, 8616, 8617, 8618, 8619, 8620, 8621, 8622, 8623, 8624, 8625, 8626, 8627, 8628, 8629, 8630, 8631, 8632, 8633, 8634, 8635, 8636, 8637, 8748, 8749, 8750, 8751, 8752, 8753, 8754, 8755, 8756, 8757, 8758, 8759, 8760, 8761, 8762, 8763, 8764, 8765, 8766, 8767, 8768, 8769, 8806, 8807, 8808, 8809, 8810, 8811, 8812, 8816, 8817, 8818, 8958, 8959, 8960, 8962, 8963, 8965, 8966, 8967, 8968, 8969, 8970, 8971, 8972, 8973, 8974, 8975, 8976, 8977, 8978, 8979, 8980, 8981, 8982, 8983, 8984, 8985, 8986, 8987, 8988, 8989, 8990, 9001, 9002, 9003, 9004, 9005, 9006, 9007, 9008, 9009, 9010, 9011, 9012, 9013, 9014, 9015, 9016, 9017, 9018, 9019, 9020, 9021, 9022, 9023, 9024, 9025, 9026, 9027, 9028, 9029, 9030, 9031, 9032, 9033, 9034, 9035, 9036, 9037, 9038, 9039, 9040, 9041, 9042, 9055, 9056, 9113, 9114, 9115, 9143, 9145, 9146, 9147, 9268, 9269, 9270, 9271, 9272, 9273, 9274, 9275, 9276, 9277, 9278, 9279, 9280, 9281, 9282, 9283, 9284, 9285, 9286, 9287, 9288, 9289, 929, 9290, 9291, 9292, 9293, 9336, 9337, 9338, 9339, 9340, 9341, 9342, 9343, 9344, 9345, 9346, 9347, 9348, 9349, 9350, 9351, 9352, 9353, 9354, 9355, 9356, 9357, 9358, 9359, 9360, 9361, 9395, 9416, 9417, 9418, 9419, 9420, 9421, 9422, 9423, 9424, 9425, 9426, 9427, 9428, 9429, 9430, 9431, 9432, 9433, 9434, 9435, 9436, 9437, 9438, 9451, 9452, 9510, 9511, 9512, 9513, 9514, 9515, 9516, 9517, 9518, 9519, 9520, 9521, 9522, 9523, 9524, 9525, 9526, 9527, 9528, 9529, 9530, 9531, 9532, 9533, 9534, 9535, 9536, 9537, 9538, 9539, 9540, 9541, 9551, 9552, 9553, 9554, 9555, 9556, 9557, 9558, 9671, 9672, 9673, 9674, 9675, 9676, 9677, 9678, 9679, 9680, 9681, 9682, 9683, 9684, 9685, 9686, 9687, 9688, 9689, 9690, 9691, 9692, 9693, 9694, 9695, 9696, 9697, 9698, 9699, 9702, 9703, 9704, 9705, 9706, 9707, 9708, 9709, 9710, 9711, 9712, 9713, 9714, 9715, 9716, 9717, 9718, 9719, 9720, 9721, 9722, 9723, 9724, 9725, 9726, 9727, 9728, 9729, 9730, 9731, 9732, 9733, 9734, 9735, 9736, 9737, 9738, 9739, 9740, 9741, 9742, 9743, 9744].uniq

# Directory containing the ZWI files
zwi_directory = "/media/globewalldesk/ZWIBook/book_zwis"

# Initialize counters for deleted and already deleted files
deleted_count = 0
already_deleted_count = 0

# Track number of processed files
processed_count = 0

# Iterate through the files to delete
files_to_delete.each do |file_number|
  file_path = File.join(zwi_directory, "#{file_number}.zwi")

  if File.exist?(file_path)
    # Delete the file if it exists
    FileUtils.rm(file_path)
    deleted_count += 1
  else
    # If file is already deleted, increment the counter
    already_deleted_count += 1
  end

  # Increment the processed count and print a dot for every 100 files
  processed_count += 1
  print "." if processed_count % 100 == 0
end

# After the loop completes, count the remaining .zwi files
remaining_files = Dir.glob(File.join(zwi_directory, "*.zwi")).size

# Final output of totals
puts "\n\nTotal files deleted: #{deleted_count}"
puts "Total files already deleted: #{already_deleted_count}"
puts "Total remaining .zwi files: #{remaining_files}"
